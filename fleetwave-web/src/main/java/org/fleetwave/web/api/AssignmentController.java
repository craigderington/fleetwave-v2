package org.fleetwave.web.api; import org.fleetwave.domain.*; import org.fleetwave.domain.repo.*; import org.fleetwave.app.services.AssignmentService; import org.fleetwave.web.api.dto.AssignmentDtos.CreateAssignment; import org.springframework.web.bind.annotation.*; import java.util.*; @RestController @RequestMapping("/api/assignments") public class AssignmentController{ private final AssignmentService svc; private final AssignmentRepository repo; public AssignmentController(AssignmentService s, AssignmentRepository r){svc=s; repo=r;} @GetMapping public List<Assignment> list(){ return repo.findAll(); } @PostMapping public Assignment create(@RequestBody CreateAssignment b){ Assignment.AssigneeType t=Assignment.AssigneeType.valueOf(b.assigneeType); return svc.create(b.radioId,t,b.assigneeId,b.expectedEnd);} @PostMapping("/{id}/return") public Assignment ret(@PathVariable java.util.UUID id){ return svc.returnAssignment(id);} }