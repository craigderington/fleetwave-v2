package org.fleetwave.web.api; import org.fleetwave.domain.*; import org.fleetwave.web.api.dto.RequestDtos.CreateRequest; import org.fleetwave.app.services.RequestService; import org.fleetwave.domain.repo.RequestRepository; import org.springframework.web.bind.annotation.*; import java.util.*; @RestController @RequestMapping("/api/requests") public class RequestController{ private final RequestService svc; private final RequestRepository repo; public RequestController(RequestService s, RequestRepository r){svc=s; repo=r;} @GetMapping public List<Request> list(){ return repo.findAll(); } @PostMapping public Request create(@RequestBody CreateRequest b){ return svc.create(b.requesterId, b.workgroupId, b.modelPref, b.reason); } @PostMapping("/{id}/approve") public Request approve(@PathVariable java.util.UUID id){ return svc.approve(id);} @PostMapping("/{id}/reject") public Request reject(@PathVariable java.util.UUID id){ return svc.reject(id);} }